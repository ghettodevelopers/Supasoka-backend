services:
- type: web
  name: supasoka-backend
  runtime: node
  region: oregon
  plan: free
  buildCommand: npm install && npx prisma generate && npx prisma db push --accept-data-loss
  startCommand: npm run start:prod
  autoDeploy: true
  healthCheckPath: /health
  envVars:
  - key: NODE_ENV
    value: production
  - key: DATABASE_URL
    sync: false
  - key: JWT_SECRET
    generateValue: true
  - key: JWT_EXPIRES_IN
    value: 7d
  - key: ADMIN_EMAIL
    value: Ghettodevelopers@gmail.com
  - key: ADMIN_PASSWORD
    sync: false
  - key: PUSHY_SECRET_API_KEY
    sync: false
  - key: ALLOWED_ORIGINS
    value: https://supasoka-backend.onrender.com,capacitor://localhost,http://localhost:3000
